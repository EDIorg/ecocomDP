<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Map NEON data products to ecocomDP — map_neon.ecocomdp.10003.001.001 • ecocomDP</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Map NEON data products to ecocomDP — map_neon.ecocomdp.10003.001.001" />
<meta property="og:description" content="Pull files from the NEON API by data product, merge data for each table, and convert to ecocomDP format. Please see neonUtilities::loadByProduct for more information." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ecocomDP</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/create.html">Create</a>
    </li>
    <li>
      <a href="../articles/use.html">Use</a>
    </li>
    <li>
      <a href="../articles/convert.html">Convert</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/EDIorg/ecocomDP/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Map NEON data products to ecocomDP</h1>
    <small class="dont-index">Source: <a href='http://github.com/EDIorg/ecocomDP/blob/master/R/map_neon.ecocomdp.10003.001.001.R'><code>R/map_neon.ecocomdp.10003.001.001.R</code></a>, <a href='http://github.com/EDIorg/ecocomDP/blob/master/R/map_neon.ecocomdp.10022.001.001.R'><code>R/map_neon.ecocomdp.10022.001.001.R</code></a>, <a href='http://github.com/EDIorg/ecocomDP/blob/master/R/map_neon.ecocomdp.10022.001.002.R'><code>R/map_neon.ecocomdp.10022.001.002.R</code></a>, and 10 more</small>
    <div class="hidden name"><code>map_neon_data_to_ecocomDP.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Pull files from the NEON API by data product, merge data for each table, and convert to ecocomDP format. Please see neonUtilities::loadByProduct for more information.</p>
    </div>

    <pre class="usage"><span class='fu'>map_neon.ecocomdp.10003.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10003.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10022.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10022.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10022.001.002</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10022.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10043.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10043.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10058.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10058.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10072.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10072.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10092.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10092.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.10093.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.10093.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.20107.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.20107.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.20120.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.20120.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.20166.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.20166.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon.ecocomdp.20219.001.001</span><span class='op'>(</span>
  <span class='va'>neon.data.list</span>,
  neon.data.product.id <span class='op'>=</span> <span class='st'>"DP1.20219.001"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>map_neon_data_to_ecocomDP</span><span class='op'>(</span>
  <span class='va'>id</span>,
  neon.data.save.dir <span class='op'>=</span> <span class='cn'>NULL</span>,
  neon.data.read.path <span class='op'>=</span> <span class='cn'>NULL</span>,
  neon.data.list <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>neon.data.list</th>
      <td><p>(list) A list of stacked NEON data tables to be mapped to ecocomDP. Must match the chosen mapping method in 'id'</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to neonUtilities::loadByProduct().</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>(character) Identifier of dataset to read. Identifiers are listed in the "id" column of the <code><a href='search_data.html'>search_data()</a></code> output. e.g., <code>neon.ecocomdp.20166.001.001</code> is the <code>id</code> for "ALGAE Periphyton, seston, and phytoplankton collection" converted to the ecocomDP format from the NEON source data product DP1.20166.001.</p></td>
    </tr>
    <tr>
      <th>neon.data.save.dir</th>
      <td><p>(character) Directory to save NEON source data that has been downloaded via <code><a href='https://rdrr.io/pkg/neonUtilities/man/loadByProduct.html'>neonUtilities::loadByProduct()</a></code></p></td>
    </tr>
    <tr>
      <th>neon.data.read.path</th>
      <td><p>(character) Path to read in an RDS file of 'stacked NEON data' from <code><a href='https://rdrr.io/pkg/neonUtilities/man/loadByProduct.html'>neonUtilities::loadByProduct()</a></code></p></td>
    </tr>
    <tr>
      <th>site</th>
      <td><p>Either the string 'all', meaning all available sites, or a character vector of 4-letter NEON site codes, e.g. c('ONAQ','RMNP'). Defaults to all.</p></td>
    </tr>
    <tr>
      <th>startdate</th>
      <td><p>Either NA, meaning all available dates, or a character vector in the form YYYY-MM, e.g. 2017-01. Defaults to NA.</p></td>
    </tr>
    <tr>
      <th>enddate</th>
      <td><p>Either NA, meaning all available dates, or a character vector in the form YYYY-MM, e.g. 2017-01. Defaults to NA.</p></td>
    </tr>
    <tr>
      <th>check.size</th>
      <td><p>T or F, should the user approve the total file size before downloading? Defaults to T. When working in batch mode, or other non-interactive workflow, use check.size=F.</p></td>
    </tr>
    <tr>
      <th>nCores</th>
      <td><p>The number of cores to parallelize the stacking procedure. By default it is set to a single core.</p></td>
    </tr>
    <tr>
      <th>forceParallel</th>
      <td><p>If the data volume to be processed does not meet minimum requirements to run in parallel, this overrides. Set to FALSE as default.</p></td>
    </tr>
    <tr>
      <th>token</th>
      <td><p>User specific API token (generated within neon.datascience user accounts)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a named list, including:</p>
<dt>metadata</dt><dd><p>A list of information about the NEON data product returned by neonUtilities::getProductInfo.</p></dd>
<dt>tables</dt><dd><p>A list of data.frames following the ecocomDP format.</p></dd>
    <dt>tables$location</dt><dd><p>A table, which has the lat long for each NEON site (<code>location_id</code>) included in the data set</p></dd>
    <dt>tables$taxon</dt><dd><p>A table, which describes each <code>taxon_id</code> that appears in the data set</p></dd>
    <dt>tables$observation</dt><dd><p>A table, with a record for each <code>observation_id</code> that appears in the data set</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All available data meeting the query criteria will be downloaded. Most data products are collected at only a subset of sites, and dates of collection vary. Consult the NEON data portal for sampling details.
Dates are specified only to the month because NEON data are provided in monthly packages. Any month included in the search criteria will be included in the download. Start and end date are inclusive.</p>
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>map_neon.ecocomdp.10003.001.001</code>: This method will retrieve count data for BIRD taxa from neon.data.product.id DP1.10003.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.10022.001.001</code>: This method will retrieve density data for BEETLE from neon.data.product.id DP1.10022.001 from the NEON data portal and map to the ecocomDP</p></li>
<li><p><code>map_neon.ecocomdp.10022.001.002</code>: This method will retrieve count data for HERPTILE taxa from neon.data.product.id DP1.10022.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.10043.001.001</code>: This method will retrieve density data for MOSQUITO from neon.data.product.id DP1.10043.001 from the NEON data portal and map to the ecocomDP</p></li>
<li><p><code>map_neon.ecocomdp.10058.001.001</code>: This method will retrieve percent cover data for PLANT taxa from neon.data.product.id DP1.10058.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.10072.001.001</code>: This method will retrieve count data for SMALL_MAMMAL taxa from neon.data.product.id DP1.10072.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.10092.001.001</code>: This method will retrieve positivity data for TICK_PATHOGEN taxa from neon.data.product.id DP1.10092.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.10093.001.001</code>: This method will retrieve count data for TICK taxa from neon.data.product.id DP1.10093.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.20107.001.001</code>: This method will retrieve count data for FISH taxa from neon.data.product.id DP1.20107.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.20120.001.001</code>: This method will retrieve density data for MACROINVERTEBRATE from neon.data.product.id DP1.20120.001 from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.20166.001.001</code>: This method will retrieve density data for ALGAE from neon.data.product.id DP1.20166.001 (Periphyton, seston, and phytoplankton collection) from the NEON data portal and map to the ecocomDP format</p></li>
<li><p><code>map_neon.ecocomdp.20219.001.001</code>: This method will retrieve count data for ZOOPLANKTON taxa from neon.data.product.id DP1.20219.001 from the NEON data portal and map to the ecocomDP format</p></li>
</ul>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>License: GNU AFFERO GENERAL PUBLIC LICENSE Version 3, 19 November 2007</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Daijiang Li</p>
<p>Kari Norman <a href='mailto:kari.norman@berkeley.edu'>kari.norman@berkeley.edu</a></p>
<p>Matt Helmus <a href='mailto:mrhelmus@temple.edu'>mrhelmus@temple.edu</a></p>
<p>Natalie Robinson <a href='mailto:nrobinson@battelleecology.org'>nrobinson@battelleecology.org</a></p>
<p>Michael Just</p>
<p>Marta Jarzyna</p>
<p>Melissa Chen</p>
<p>Matt Bitters</p>
<p>Wynne Moss</p>
<p>Brendan Hobart</p>
<p>Thilina Surasinghe <a href='mailto:tsurasinghe@bridgew.edu'>tsurasinghe@bridgew.edu</a></p>
<p>Stephanie Parker <a href='mailto:sparker@battelleecology.org'>sparker@battelleecology.org</a></p>
<p>Lara Janson</p>
<p>Eric R Sokol <a href='mailto:esokol@battelleecology.org'>esokol@battelleecology.org</a></p>
<p>Ruvi Jaimes</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Retrieve and map NEON ALGAE data to ecocomDP format</span>
<span class='va'>my_result</span> <span class='op'>&lt;-</span> <span class='fu'>map_neon_data_to_ecocomDP</span><span class='op'>(</span>
  id <span class='op'>=</span> <span class='st'>"neon.ecocomdp.20166.001.001"</span>,
  site <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"MAYF"</span>, <span class='st'>"PRIN"</span><span class='op'>)</span>,
  startdate <span class='op'>=</span> <span class='st'>"2016-1"</span>,
  enddate <span class='op'>=</span> <span class='st'>"2018-11"</span>,
  check.size <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Colin Smith, Eric Sokol.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


